"use strict";angular.module("snippit",["snippit.main","snippit.auth","snippit.services","ui.router"]).run(["$rootScope","$location","$http",function(t,n,i){t.$on("$stateChangeStart",function(t,e,o){i.get("/auth/isAuthenticated").success(function(t){t.auth||n.path("/signin")})})}]).config(["$stateProvider","$urlRouterProvider",function(t,n){t.state("app",{url:"/app",templateUrl:"templates/main.html",controller:"MainController",authenticate:!0}).state("signin",{url:"/signin",templateUrl:"templates/signin.html",controller:"AuthController"}).state("signup",{url:"/signup",templateUrl:"templates/signup.html",controller:"AuthController"}),n.otherwise("/app")}]),angular.module("snippit.auth",["snippit","snippit.services"]).controller("AuthController",["$scope","$window","Auth",function(t,n,i){}]),angular.module("snippit.main",["snippit"]).controller("MainController",["$scope",function(t){}]),angular.module("snippit.services",["snippit"]).factory("Auth",["$http","$location","$window",function(t,n,i){var e=function(){return t({method:"GET",url:"/auth/facebook"}).then(function(t){i.localStorage.setItem("com.snippit",t),n.path("/app")})},o=function(){return!!i.localStorage.getItem("com.snippit")},r=function(){i.localStorage.removeItem("com.snippit"),n.path("/signin")};return{signin:e,signout:r,isAuth:o,signout:r}}]);